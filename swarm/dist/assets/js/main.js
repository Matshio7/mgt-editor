(()=>{"use strict";function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,o(r.key),r)}}function o(t){var n=function(t,n){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var i=r.call(t,n||"default");if("object"!=e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(t)}(t,"string");return"symbol"==e(n)?n:n+""}var c=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.agents=new Map,this.messageQueue=[],this.messageHistory=[],this.messageHandlers=new Map},n=[{key:"registerAgent",value:function(e){this.agents.set(e.id,e)}},{key:"unregisterAgent",value:function(e){this.agents.delete(e),this.messageQueue=this.messageQueue.filter(function(t){return t.from!==e&&t.to!==e})}},{key:"sendMessage",value:function(e){var t=i(i({},e),{},{id:this.generateMessageId(),timestamp:e.timestamp||Date.now(),delivered:!1});this.messageQueue.push(t),this.messageHistory.push(i({},t)),this.messageHistory.length>1e3&&(this.messageHistory=this.messageHistory.slice(-1e3))}},{key:"getMessagesFor",value:function(e){var t=this.messageQueue.filter(function(t){return(t.to===e||null===t.to)&&!t.delivered});return t.forEach(function(t){t.to!==e&&null!==t.to||(t.delivered=!0)}),this.messageQueue=this.messageQueue.filter(function(e){return!e.delivered}),t}},{key:"broadcastMessage",value:function(e){this.sendMessage(i(i({},e),{},{to:null,broadcast:!0}))}},{key:"subscribeToMessageType",value:function(e,t){this.messageHandlers.has(e)||this.messageHandlers.set(e,[]),this.messageHandlers.get(e).push(t)}},{key:"processMessages",value:function(){var e=this;t(this.messageQueue).forEach(function(t){(e.messageHandlers.get(t.type)||[]).forEach(function(e){try{e(t)}catch(e){console.error("Error in message handler for ".concat(t.type,":"),e)}})})}},{key:"getAgentsByType",value:function(e){return Array.from(this.agents.values()).filter(function(t){return t.type===e})}},{key:"getAllAgents",value:function(){return Array.from(this.agents.values())}},{key:"getMessageHistory",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t(this.messageHistory);return e.type&&(n=n.filter(function(t){return t.type===e.type})),e.from&&(n=n.filter(function(t){return t.from===e.from})),e.to&&(n=n.filter(function(t){return t.to===e.to})),e.since&&(n=n.filter(function(t){return t.timestamp>=e.since})),n.sort(function(e,t){return t.timestamp-e.timestamp})}},{key:"getNetworkStats",value:function(){var e=Date.now()-36e5,t=this.messageHistory.filter(function(t){return t.timestamp>=e}),n={},r={};return t.forEach(function(e){n[e.type]=(n[e.type]||0)+1,r[e.from]=(r[e.from]||0)+1}),{totalAgents:this.agents.size,queuedMessages:this.messageQueue.length,messagesLastHour:t.length,messagesByType:n,messagesByAgent:r,networkHealth:this.calculateNetworkHealth()}}},{key:"calculateNetworkHealth",value:function(){var e=Array.from(this.agents.values()).filter(function(e){return"offline"!==e.state});if(0===e.length)return 0;var t=e.reduce(function(e,t){return e+t.reputation},0)/e.length,n=Math.min(100,this.messageHistory.length/10);return Math.round((t+n)/2)}},{key:"generateMessageId",value:function(){return"msg_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))}},{key:"clear",value:function(){this.messageQueue=[],this.messageHistory=[]}},{key:"destroy",value:function(){this.agents.clear(),this.messageQueue=[],this.messageHistory=[],this.messageHandlers.clear()}}],n&&s(e.prototype,n),r&&s(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,n,r}();function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){m(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function m(e,t,n){return(t=f(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,f(r.key),r)}}function f(e){var t=function(e,t){if("object"!=u(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=u(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==u(t)?t:t+""}var y=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.messageBus=new c,this.agents=new Map,this.tasks=new Map,this.projects=new Map,this.isRunning=!1,this.tickInterval=null,this.tickRate=1e3,this.stats={totalTicks:0,tasksCompleted:0,projectsCompleted:0,averageTaskQuality:0}},(t=[{key:"addAgent",value:function(e){this.agents.set(e.id,e),e.messageBus=this.messageBus,this.messageBus.registerAgent(e)}},{key:"removeAgent",value:function(e){this.agents.get(e)&&(this.messageBus.unregisterAgent(e),this.agents.delete(e))}},{key:"createProject",value:function(e){var t={id:this.generateId("project"),name:e.name,genre:e.genre,subGenre:e.subGenre,theme:e.theme,targetAudience:e.targetAudience,tasks:[],status:"planning",quality:0,progress:0,createdAt:Date.now(),deadline:e.deadline||Date.now()+2592e6};return this.projects.set(t.id,t),this.generateProjectTasks(t),t}},{key:"generateProjectTasks",value:function(e){var t=this;[{id:this.generateId("task"),projectId:e.id,name:"Design Game Concept",type:"design",requiredSkills:["creativity","game_design"],complexity:20,priority:10,dependencies:[]},{id:this.generateId("task"),projectId:e.id,name:"Implement Core Gameplay",type:"development",requiredSkills:["programming","game_logic"],complexity:40,priority:8,dependencies:[]},{id:this.generateId("task"),projectId:e.id,name:"Create Game Graphics",type:"design",requiredSkills:["graphics","ui_design"],complexity:30,priority:7,dependencies:[]},{id:this.generateId("task"),projectId:e.id,name:"Implement Sound System",type:"development",requiredSkills:["audio_programming","sound_design"],complexity:25,priority:6,dependencies:[]},{id:this.generateId("task"),projectId:e.id,name:"Test Game Balance",type:"testing",requiredSkills:["testing","game_balance"],complexity:15,priority:9,dependencies:[]}].forEach(function(n){n.progress=0,n.assignedTo=null,n.status="pending",t.tasks.set(n.id,n),e.tasks.push(n.id)})}},{key:"assignTasks",value:function(){var e=this,t=Array.from(this.tasks.values()).filter(function(t){return"pending"===t.status&&e.areTaskDependenciesMet(t)}),n=Array.from(this.agents.values()).filter(function(e){return"idle"===e.state});t.sort(function(e,t){return t.priority-e.priority}),t.forEach(function(t){var r=e.findBestAgentForTask(t,n);if(r&&r.canAcceptTask(t)){e.assignTaskToAgent(t,r);var i=n.indexOf(r);i>-1&&n.splice(i,1)}})}},{key:"findBestAgentForTask",value:function(e,t){var n=this,r=t.filter(function(t){return t.hasRequiredSkills(e.requiredSkills)});return 0===r.length?null:r.reduce(function(t,r){return n.calculateAgentTaskScore(r,e)>n.calculateAgentTaskScore(t,e)?r:t})}},{key:"calculateAgentTaskScore",value:function(e,t){return t.requiredSkills.reduce(function(t,n){return t+(e.skills.get(n)||0)},0)/t.requiredSkills.length*.4+.2*(100-e.workload)+.2*e.energy+.2*e.reputation}},{key:"assignTaskToAgent",value:function(e,t){e.assignedTo=t.id,e.status="assigned",e.assignedAt=Date.now(),this.messageBus.sendMessage({from:"swarm_manager",to:t.id,type:"task_assignment",payload:e})}},{key:"areTaskDependenciesMet",value:function(e){var t=this;return e.dependencies.every(function(e){var n=t.tasks.get(e);return n&&"completed"===n.status})}},{key:"tick",value:function(){this.stats.totalTicks++,this.assignTasks(),this.agents.forEach(function(e){return e.think()}),this.messageBus.processMessages(),this.updateProjects(),this.handleCompletedTasks(),this.generateEmergentBehaviors()}},{key:"updateProjects",value:function(){var e=this;this.projects.forEach(function(t){var n=t.tasks.map(function(t){return e.tasks.get(t)}),r=n.filter(function(e){return"completed"===e.status});if(t.progress=r.length/n.length*100,t.progress>=100&&"completed"!==t.status){t.status="completed",t.completedAt=Date.now(),e.stats.projectsCompleted++;var i=r.reduce(function(e,t){return e+(t.quality||50)},0)/r.length;t.quality=i,e.messageBus.broadcastMessage({from:"swarm_manager",type:"project_completed",payload:{project:t,quality:i}})}})}},{key:"handleCompletedTasks",value:function(){var e=this;this.messageBus.subscribeToMessageType("task_completed",function(t){var n=e.tasks.get(t.payload.taskId);if(n){n.status="completed",n.completedAt=t.timestamp,n.quality=t.payload.quality,e.stats.tasksCompleted++;var r=e.stats.averageTaskQuality,i=e.stats.tasksCompleted;e.stats.averageTaskQuality=(r*(i-1)+n.quality)/i}})}},{key:"generateEmergentBehaviors",value:function(){this.stats.totalTicks%10==0&&this.encourageCollaboration(),this.stats.totalTicks%20==0&&this.balanceWorkload()}},{key:"encourageCollaboration",value:function(){var e=Array.from(this.agents.values());e.forEach(function(t){if(t.workload>70){var n=e.filter(function(e){return e.id!==t.id&&e.workload<50&&"idle"===e.state});if(n.length>0){var r=n[Math.floor(Math.random()*n.length)];t.collaborate(r,"workload_sharing")}}})}},{key:"balanceWorkload",value:function(){var e=this,t=Array.from(this.agents.values()),n=t.filter(function(e){return e.workload>80}),r=t.filter(function(e){return e.workload<40});n.forEach(function(t){r.length>0&&e.messageBus.sendMessage({from:"swarm_manager",to:t.id,type:"workload_warning",payload:{message:"Consider delegating tasks or requesting help",availableHelpers:r.map(function(e){return e.id})}})})}},{key:"start",value:function(){var e=this;this.isRunning||(this.isRunning=!0,this.tickInterval=setInterval(function(){return e.tick()},this.tickRate))}},{key:"stop",value:function(){this.isRunning&&(this.isRunning=!1,this.tickInterval&&(clearInterval(this.tickInterval),this.tickInterval=null))}},{key:"getStats",value:function(){var e=this.messageBus.getNetworkStats();return d(d(d({},this.stats),e),{},{isRunning:this.isRunning,totalProjects:this.projects.size,totalTasks:this.tasks.size,activeAgents:Array.from(this.agents.values()).filter(function(e){return"offline"!==e.state}).length})}},{key:"generateId",value:function(e){return"".concat(e,"_").concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,6))}},{key:"destroy",value:function(){this.stop(),this.agents.clear(),this.tasks.clear(),this.projects.clear(),this.messageBus.destroy()}}])&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,v(r.key),r)}}function v(e){var t=function(e,t){if("object"!=p(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=p(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==p(t)?t:t+""}var k=function(){return e=function e(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id=t,this.type=n,this.messageBus=r,this.config=i,this.state="idle",this.memory=new Map,this.currentTask=null,this.skills=new Map,this.energy=100,this.workload=0,this.reputation=50,this.messageBus.registerAgent(this)},t=[{key:"think",value:function(){this.updateState(),this.processMessages(),this.executeCurrentTask(),this.maintainAgent()}},{key:"updateState",value:function(){this.energy<20?this.state="resting":this.currentTask?this.state="working":this.state="idle"}},{key:"processMessages",value:function(){var e=this;this.messageBus.getMessagesFor(this.id).forEach(function(t){return e.handleMessage(t)})}},{key:"handleMessage",value:function(e){switch(e.type){case"task_assignment":this.receiveTask(e.payload);break;case"collaboration_request":this.handleCollaboration(e.payload);break;case"feedback":this.processFeedback(e.payload);break;default:this.processCustomMessage(e)}}},{key:"receiveTask",value:function(e){this.canAcceptTask(e)&&(this.currentTask=e,this.workload+=e.complexity||10)}},{key:"canAcceptTask",value:function(e){return"resting"!==this.state&&this.workload<80&&this.hasRequiredSkills(e.requiredSkills||[])}},{key:"hasRequiredSkills",value:function(e){var t=this;return e.every(function(e){return t.skills.has(e)&&t.skills.get(e)>=30})}},{key:"executeCurrentTask",value:function(){this.currentTask&&"resting"!==this.state&&this.workOnTask(this.currentTask)>=100&&this.completeTask()}},{key:"workOnTask",value:function(e){var t=this.getTaskProgress(e)*this.getSkillModifier(e.requiredSkills||[])*(this.energy/100);return e.progress=(e.progress||0)+t,this.energy=Math.max(0,this.energy-2),e.progress}},{key:"getTaskProgress",value:function(e){return 5}},{key:"getSkillModifier",value:function(e){var t=this;return 0===e.length?1:e.reduce(function(e,n){return e+(t.skills.get(n)||0)},0)/e.length/50}},{key:"completeTask",value:function(){this.currentTask&&(this.sendMessage("task_completed",{taskId:this.currentTask.id,agentId:this.id,quality:this.calculateTaskQuality(),completedAt:Date.now()}),this.gainExperience(this.currentTask),this.workload=Math.max(0,this.workload-(this.currentTask.complexity||10)),this.currentTask=null)}},{key:"calculateTaskQuality",value:function(){var e=50+.5*(this.reputation-50),t=this.energy/100,n=.3*Math.max(0,this.workload-50);return Math.max(0,Math.min(100,e*t-n))}},{key:"gainExperience",value:function(e){var t=this,n=e.requiredSkills||[],r=Math.min(5,e.complexity/2);n.forEach(function(e){var n=t.skills.get(e)||0,i=Math.min(100,n+r);t.skills.set(e,i)}),this.reputation=Math.min(100,this.reputation+.5*r)}},{key:"maintainAgent",value:function(){"resting"===this.state&&(this.energy=Math.min(100,this.energy+10),this.energy>=80&&(this.state="idle")),this.workload=Math.max(0,this.workload-1)}},{key:"sendMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.messageBus.sendMessage({from:this.id,to:n,type:e,payload:t,timestamp:Date.now()})}},{key:"collaborate",value:function(e,t){this.sendMessage("collaboration_request",{type:t,fromAgent:this.id,fromType:this.type},e.id)}},{key:"getStatus",value:function(){var e;return{id:this.id,type:this.type,state:this.state,energy:this.energy,workload:this.workload,reputation:this.reputation,currentTask:(null===(e=this.currentTask)||void 0===e?void 0:e.id)||null,skills:Object.fromEntries(this.skills)}}},{key:"handleCollaboration",value:function(e){}},{key:"processFeedback",value:function(e){}},{key:"processCustomMessage",value:function(e){}}],t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,M(r.key),r)}}function M(e){var t=function(e,t){if("object"!=b(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==b(t)?t:t+""}function S(e,t,n){return t=O(t),function(e,t){if(t&&("object"==b(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,_()?Reflect.construct(t,n||[],O(e).constructor):t.apply(e,n))}function _(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_=function(){return!!e})()}function j(){return j="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},j.apply(null,arguments)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}function T(e,t){return T=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},T(e,t)}var P=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=S(this,t,[e,"developer",n,i])).skills.set("programming",i.programmingSkill||60),r.skills.set("game_logic",i.gameLogicSkill||55),r.skills.set("debugging",i.debuggingSkill||50),r.skills.set("optimization",i.optimizationSkill||45),r.skills.set("audio_programming",i.audioProgrammingSkill||30),r.specialty=i.specialty||"general",r.codeQuality=i.codeQuality||60,r.bugIntroductionRate=i.bugIntroductionRate||.1,r.memory.set("bugs_found",0),r.memory.set("features_implemented",0),r.memory.set("code_reviews_done",0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&T(e,t)}(t,e),n=t,r=[{key:"getTaskProgress",value:function(e){var t=5;return"development"===e.type?t=8:"debugging"===e.type?t=12:"optimization"===e.type&&(t=6),"backend"===this.specialty&&e.name.toLowerCase().includes("server")||"frontend"===this.specialty&&e.name.toLowerCase().includes("ui")?t*=1.3:"gamedev"===this.specialty&&e.name.toLowerCase().includes("gameplay")&&(t*=1.4),t}},{key:"workOnTask",value:function(e){var n,r,i,a,s,o=(n=t,r="workOnTask",i=this,s=j(O(1&(a=3)?n.prototype:n),r,i),2&a&&"function"==typeof s?function(e){return s.apply(i,e)}:s)([e]);return"development"===e.type&&(this.introduceRandomBugs(e),this.seekCodeReview(e)),o>=100&&this.memory.set("features_implemented",this.memory.get("features_implemented")+1),o}},{key:"introduceRandomBugs",value:function(e){if(Math.random()<this.bugIntroductionRate&&e.progress>50){var t={id:"bug_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,4)),taskId:e.id,severity:this.randomBugSeverity(),type:this.randomBugType(),introducedBy:this.id,foundBy:null,fixed:!1};this.sendMessage("bug_introduced",{bug:t,task:e.id})}}},{key:"randomBugSeverity",value:function(){var e=Math.random();return e<.6?"minor":e<.9?"major":"critical"}},{key:"randomBugType",value:function(){var e=["logic","ui","performance","memory_leak","crash","data_corruption"];return e[Math.floor(Math.random()*e.length)]}},{key:"seekCodeReview",value:function(e){var t=this;if(e.progress>80&&Math.random()<.3){var n=this.messageBus.getAgentsByType("developer").filter(function(e){return e.id!==t.id&&e.workload<60});if(n.length>0){var r=n[Math.floor(Math.random()*n.length)];this.sendMessage("code_review_request",{taskId:e.id,requester:this.id,codeComplexity:e.complexity},r.id)}}}},{key:"handleCollaboration",value:function(e){switch(e.type){case"code_review":this.performCodeReview(e);break;case"pair_programming":this.startPairProgramming(e);break;case"bug_fix_assistance":this.assistWithBugFix(e);break;case"workload_sharing":this.offerWorkloadHelp(e)}}},{key:"performCodeReview",value:function(e){var t=this;if(this.workload<70){var n=.7*this.skills.get("programming")+.3*this.skills.get("debugging");this.workload+=10,setTimeout(function(){t.sendMessage("code_review_result",{taskId:e.taskId,reviewer:t.id,quality:n,suggestions:t.generateCodeSuggestions(),bugsFound:Math.floor(3*Math.random())},e.fromAgent),t.workload-=10,t.memory.set("code_reviews_done",t.memory.get("code_reviews_done")+1)},2e3)}}},{key:"generateCodeSuggestions",value:function(){var e=Math.floor(3*Math.random())+1;return["Consider extracting this logic into a separate function","Add error handling for edge cases","Optimize this loop for better performance","Add unit tests for this functionality","Consider using a design pattern here","Improve variable naming for clarity"].slice(0,e)}},{key:"processCustomMessage",value:function(e){switch(e.type){case"code_review_request":this.handleCollaboration({type:"code_review",taskId:e.payload.taskId,fromAgent:e.from});break;case"bug_report":this.handleBugReport(e.payload);break;case"optimization_request":this.handleOptimizationRequest(e.payload)}}},{key:"handleBugReport",value:function(e){if(e.introducedBy===this.id){var t={id:"bugfix_".concat(e.bug.id),name:"Fix ".concat(e.bug.type," bug"),type:"debugging",requiredSkills:["debugging","programming"],complexity:this.getBugFixComplexity(e.bug.severity),priority:this.getBugFixPriority(e.bug.severity),bugId:e.bug.id};this.sendMessage("bug_fix_task_created",{task:t,originalBug:e.bug})}}},{key:"getBugFixComplexity",value:function(e){switch(e){case"minor":return 5;case"major":return 15;case"critical":return 25;default:return 10}}},{key:"getBugFixPriority",value:function(e){switch(e){case"minor":return 3;case"major":return 8;case"critical":return 10;default:return 5}}},{key:"getSpecializedAdvice",value:function(e){return{performance:["Use object pooling for frequently created/destroyed objects","Implement efficient data structures for game state","Consider async operations for heavy computations"],architecture:["Separate game logic from presentation layer","Use dependency injection for better testability","Implement proper event-driven architecture"],debugging:["Add comprehensive logging at key decision points","Implement debug modes for easier issue reproduction","Use automated testing to catch regressions early"]}[e]||["Focus on clean, maintainable code"]}}],r&&w(n.prototype,r),i&&w(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(k);function A(e){return A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A(e)}function x(e){return function(e){if(Array.isArray(e))return B(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return B(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?B(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,C(r.key),r)}}function C(e){var t=function(e,t){if("object"!=A(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=A(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==A(t)?t:t+""}function E(e,t,n){return t=q(t),function(e,t){if(t&&("object"==A(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,R()?Reflect.construct(t,n||[],q(e).constructor):t.apply(e,n))}function R(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(R=function(){return!!e})()}function D(){return D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=q(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},D.apply(null,arguments)}function q(e){return q=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},q(e)}function F(e,t){return F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},F(e,t)}var H=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=E(this,t,[e,"designer",n,i])).skills.set("creativity",i.creativitySkill||70),r.skills.set("graphics",i.graphicsSkill||65),r.skills.set("ui_design",i.uiDesignSkill||60),r.skills.set("game_design",i.gameDesignSkill||55),r.skills.set("sound_design",i.soundDesignSkill||40),r.designStyle=i.designStyle||"modern",r.artisticVision=i.artisticVision||50,r.trendAwareness=i.trendAwareness||60,r.memory.set("designs_created",0),r.memory.set("concepts_pitched",0),r.memory.set("feedback_incorporated",0),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&F(e,t)}(t,e),n=t,r=[{key:"getTaskProgress",value:function(e){var t=4;return"design"===e.type?t=7:"concept_art"===e.type?t=6:"ui_mockup"===e.type&&(t=8),(e.name.toLowerCase().includes("creative")||e.name.toLowerCase().includes("concept"))&&(t*=this.artisticVision/50),t}},{key:"workOnTask",value:function(e){var n,r,i,a,s,o=(n=t,r="workOnTask",i=this,s=D(q(1&(a=3)?n.prototype:n),r,i),2&a&&"function"==typeof s?function(e){return s.apply(i,e)}:s)([e]);return"design"===e.type&&(this.generateDesignAssets(e),this.seekDesignFeedback(e)),o>=100&&this.memory.set("designs_created",this.memory.get("designs_created")+1),o}},{key:"generateDesignAssets",value:function(e){if(e.progress>30&&Math.random()<.4){var t=this.createDesignAssets(e);this.sendMessage("design_assets_ready",{taskId:e.id,assets:t,style:this.designStyle,creator:this.id})}}},{key:"createDesignAssets",value:function(e){var t=this,n=["concept_art","ui_mockup","character_design","environment","icon_set"],r=Math.floor(3*Math.random())+1;return Array(r).fill(0).map(function(){return{type:n[Math.floor(Math.random()*n.length)],quality:t.calculateAssetQuality(),style:t.designStyle,createdAt:Date.now()}})}},{key:"calculateAssetQuality",value:function(){var e=this.skills.get("creativity")/100,t=this.skills.get("graphics")/100,n=this.artisticVision/100;return Math.round(50+25*e+15*t+10*n)}},{key:"seekDesignFeedback",value:function(e){if(e.progress>60&&Math.random()<.25){var t=this.messageBus.getAgentsByType("manager"),n=this.messageBus.getAgentsByType("tester"),r=[].concat(x(t),x(n));if(r.length>0){var i=r[Math.floor(Math.random()*r.length)];this.sendMessage("design_feedback_request",{taskId:e.id,designType:e.type,currentProgress:e.progress,requester:this.id},i.id)}}}},{key:"handleCollaboration",value:function(e){switch(e.type){case"design_brainstorm":this.participateInBrainstorm(e);break;case"style_guide_creation":this.createStyleGuide(e);break;case"asset_review":this.reviewDesignAssets(e);break;case"creative_consultation":this.provideCreativeInput(e)}}},{key:"participateInBrainstorm",value:function(e){var t=this.generateCreativeIdeas(e.topic);this.sendMessage("brainstorm_contribution",{sessionId:e.sessionId,contributor:this.id,ideas:t,enthusiasm:this.artisticVision},e.fromAgent)}},{key:"generateCreativeIdeas",value:function(e){var t={gameplay:["Interactive narrative choices that affect game world","Dynamic difficulty adjustment based on player emotion","Procedurally generated content with artistic coherence","Multi-layered progression systems"],visuals:["Stylized art direction with unique color palette","Animated UI elements with personality","Environmental storytelling through visual details","Responsive visual feedback for player actions"],innovation:["Genre-blending mechanics","Unconventional control schemes","Social features integrated into core gameplay","Real-world data integration"]},n=t[e]||t.innovation,r=Math.floor(3*Math.random())+2;return n.slice(0,r).map(function(e){return{concept:e,feasibility:Math.floor(40*Math.random())+30,innovation:Math.floor(50*Math.random())+25,marketAppeal:Math.floor(60*Math.random())+20}})}},{key:"processCustomMessage",value:function(e){switch(e.type){case"design_feedback_request":this.provideDesignFeedback(e.payload);break;case"style_consistency_check":this.checkStyleConsistency(e.payload);break;case"trend_analysis_request":this.analyzeTrends(e.payload);break;case"design_feedback":this.incorporateFeedback(e.payload)}}},{key:"provideDesignFeedback",value:function(e){var t={overall:this.generateOverallFeedback(),specific:this.generateSpecificFeedback(e.designType),suggestions:this.generateImprovementSuggestions(),rating:Math.floor(40*Math.random())+60};this.sendMessage("design_feedback",{requestId:e.taskId,feedback:t,reviewer:this.id,reviewerExpertise:this.skills.get("ui_design")},e.requester)}},{key:"generateOverallFeedback",value:function(){var e=["Strong visual hierarchy and clean composition","Good use of color theory and contrast","Effective visual communication of game mechanics","Cohesive art direction throughout","Creative approach to conventional design problems"];return e[Math.floor(Math.random()*e.length)]}},{key:"generateSpecificFeedback",value:function(e){return{ui_design:["Consider touch target sizes","Improve accessibility","Streamline user flow"],concept_art:["Enhance mood and atmosphere","Clarify key visual elements","Strengthen composition"],character_design:["Develop unique silhouettes","Add personality through details","Consider animation requirements"]}[e]||["Focus on user experience"]}},{key:"generateImprovementSuggestions",value:function(){return["A/B test different color schemes","Consider accessibility guidelines","Gather player feedback on visual clarity","Iterate on visual hierarchy"].slice(0,Math.floor(3*Math.random())+1)}}],r&&I(n.prototype,r),i&&I(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(k);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,L(r.key),r)}}function L(e){var t=function(e,t){if("object"!=Q(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=Q(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==Q(t)?t:t+""}function U(e,t,n){return t=V(t),function(e,t){if(t&&("object"==Q(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,N()?Reflect.construct(t,n||[],V(e).constructor):t.apply(e,n))}function N(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(N=function(){return!!e})()}function G(){return G="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=V(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},G.apply(null,arguments)}function V(e){return V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},V(e)}function W(e,t){return W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},W(e,t)}var $=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=U(this,t,[e,"tester",n,i])).skills.set("testing",i.testingSkill||70),r.skills.set("game_balance",i.gameBalanceSkill||65),r.skills.set("user_experience",i.uxSkill||60),r.skills.set("bug_detection",i.bugDetectionSkill||75),r.skills.set("performance_analysis",i.performanceSkill||50),r.testingApproach=i.testingApproach||"comprehensive",r.bugFindingRate=i.bugFindingRate||.6,r.qualityStandards=i.qualityStandards||70,r.memory.set("bugs_found",0),r.memory.set("tests_executed",0),r.memory.set("quality_reports",0),r.foundBugs=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&W(e,t)}(t,e),n=t,r=[{key:"getTaskProgress",value:function(e){var t=6;return"testing"===e.type?t=10:"quality_assurance"===e.type?t=8:"balance_testing"===e.type&&(t=7),"thorough"===this.testingApproach?t*=.8:"rapid"===this.testingApproach&&(t*=1.3),t}},{key:"workOnTask",value:function(e){var n,r,i,a,s,o=(n=t,r="workOnTask",i=this,s=G(V(1&(a=3)?n.prototype:n),r,i),2&a&&"function"==typeof s?function(e){return s.apply(i,e)}:s)([e]);return"testing"===e.type&&(this.performTesting(e),this.generateQualityReport(e)),o>=100&&this.memory.set("tests_executed",this.memory.get("tests_executed")+1),o}},{key:"performTesting",value:function(e){if(Math.random()<this.bugFindingRate){var t=this.findBug(e);this.foundBugs.push(t),this.memory.set("bugs_found",this.memory.get("bugs_found")+1),this.sendMessage("bug_report",{bug:t,task:e.id,finder:this.id,confidence:this.skills.get("bug_detection")})}this.analyzeGameBalance(e),this.checkPerformance(e)}},{key:"findBug",value:function(e){return{id:"bug_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,4)),type:this.randomBugType(),severity:this.determineBugSeverity(),description:this.generateBugDescription(),foundIn:e.id,foundBy:this.id,foundAt:Date.now(),reproduced:Math.random()<.8,fixed:!1}}},{key:"randomBugType",value:function(){var e=["gameplay","ui","performance","audio","graphics","save_system","progression"];return e[Math.floor(Math.random()*e.length)]}},{key:"determineBugSeverity",value:function(){var e=Math.random();return e<.5?"minor":e<.85?"major":"critical"}},{key:"generateBugDescription",value:function(){var e=["Game state inconsistency detected","UI element not responding to input","Performance degradation under load","Audio cutting out during transitions","Visual artifacts in certain scenarios","Save game corruption possibility","Progress tracking inaccuracy"];return e[Math.floor(Math.random()*e.length)]}},{key:"analyzeGameBalance",value:function(e){if(e.name.toLowerCase().includes("balance")&&Math.random()<.3){var t={difficulty:this.assessDifficulty(),progression:this.assessProgression(),economy:this.assessEconomy(),recommendations:this.generateBalanceRecommendations()};this.sendMessage("balance_analysis",{taskId:e.id,analysis:t,analyst:this.id})}}},{key:"assessDifficulty",value:function(){return{overall:Math.floor(100*Math.random()),curve:["too_easy","appropriate","too_hard"][Math.floor(3*Math.random())],spikes:Math.random()<.3}}},{key:"assessProgression",value:function(){return{pacing:Math.floor(100*Math.random()),satisfaction:Math.floor(100*Math.random()),clarity:Math.floor(100*Math.random())}}},{key:"assessEconomy",value:function(){return{inflation:Math.random()<.2,balance:Math.floor(100*Math.random()),playerEngagement:Math.floor(100*Math.random())}}},{key:"generateBalanceRecommendations",value:function(){return["Adjust early game progression curve","Rebalance resource generation rates","Fine-tune difficulty scaling","Review reward distribution"].slice(0,Math.floor(3*Math.random())+1)}},{key:"checkPerformance",value:function(e){if(Math.random()<.2){var t=this.detectPerformanceIssues();t.length>0&&this.sendMessage("performance_issues",{taskId:e.id,issues:t,detector:this.id})}}},{key:"detectPerformanceIssues",value:function(){return[{type:"memory_leak",severity:"major",impact:"Memory usage increasing over time"},{type:"cpu_bottleneck",severity:"minor",impact:"High CPU usage during specific actions"},{type:"render_lag",severity:"major",impact:"Frame rate drops in complex scenes"},{type:"asset_loading",severity:"minor",impact:"Slow asset loading times"}].filter(function(){return Math.random()<.3})}},{key:"generateQualityReport",value:function(e){if(e.progress>80){var t={taskId:e.id,overallQuality:this.calculateOverallQuality(e),testCoverage:Math.floor(40*Math.random())+60,bugsFound:this.foundBugs.filter(function(t){return t.foundIn===e.id}).length,recommendations:this.generateQualityRecommendations(),tester:this.id,timestamp:Date.now()};this.sendMessage("quality_report",{report:t}),this.memory.set("quality_reports",this.memory.get("quality_reports")+1)}}},{key:"calculateOverallQuality",value:function(e){var t=.3*this.skills.get("testing"),n=.2*this.skills.get("game_balance"),r=.2*this.skills.get("user_experience"),i=20*(Math.random()-.5);return Math.max(0,Math.min(100,50+t+n+r+i))}},{key:"generateQualityRecommendations",value:function(){return["Increase automated test coverage","Implement user feedback collection","Add performance monitoring","Conduct accessibility audit","Review error handling robustness"].slice(0,Math.floor(3*Math.random())+2)}},{key:"getTestingMetrics",value:function(){return{bugsFound:this.memory.get("bugs_found"),testsExecuted:this.memory.get("tests_executed"),qualityReports:this.memory.get("quality_reports"),averageQualityScore:this.qualityStandards,bugFindingEfficiency:this.bugFindingRate,specialization:this.testingApproach}}}],r&&z(n.prototype,r),i&&z(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(k);function K(e){return K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},K(e)}function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return X(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?X(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Z(r.key),r)}}function Z(e){var t=function(e,t){if("object"!=K(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=K(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==K(t)?t:t+""}function ee(e,t,n){return t=re(t),function(e,t){if(t&&("object"==K(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,te()?Reflect.construct(t,n||[],re(e).constructor):t.apply(e,n))}function te(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(te=function(){return!!e})()}function ne(){return ne="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!{}.hasOwnProperty.call(e,t)&&null!==(e=re(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ne.apply(null,arguments)}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}function ie(e,t){return ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ie(e,t)}var ae=function(e){function t(e,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(r=ee(this,t,[e,"manager",n,i])).skills.set("leadership",i.leadershipSkill||75),r.skills.set("project_management",i.projectManagementSkill||80),r.skills.set("market_analysis",i.marketAnalysisSkill||65),r.skills.set("resource_allocation",i.resourceAllocationSkill||70),r.skills.set("communication",i.communicationSkill||75),r.managementStyle=i.managementStyle||"collaborative",r.riskTolerance=i.riskTolerance||50,r.marketInsight=i.marketInsight||60,r.tickCount=0,r.memory.set("decisions_made",0),r.memory.set("projects_managed",0),r.memory.set("team_meetings",0),r.currentProjects=[],r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(t,e),n=t,r=[{key:"getTaskProgress",value:function(e){var t=8;return"planning"===e.type?t=12:"coordination"===e.type?t=10:"decision_making"===e.type&&(t=15),"micromanager"===this.managementStyle?t*=.7:"hands_off"===this.managementStyle&&(t*=1.2),t}},{key:"think",value:function(){var e,n,r,i,a;(e=t,n="think",r=this,a=ne(re(1&(i=3)?e.prototype:e),n,r),2&i&&"function"==typeof a?function(e){return a.apply(r,e)}:a)([]),this.tickCount++,this.monitorTeamPerformance(),this.makeStrategicDecisions(),this.facilitateCommunication(),this.planResourceAllocation()}},{key:"monitorTeamPerformance",value:function(){if(this.tickCount%15==0){var e=this.analyzeTeamPerformance();e.averageWorkload>80&&this.addressOverwork(e),e.averageQuality<70&&this.improveQuality(e),e.communicationScore<50&&this.enhanceCommunication()}}},{key:"analyzeTeamPerformance",value:function(){var e=this,t=this.messageBus.getAllAgents().filter(function(t){return t.id!==e.id});if(0===t.length)return{averageWorkload:0,averageQuality:100,communicationScore:100};var n=t.reduce(function(e,t){return e+t.workload},0),r=t.reduce(function(e,t){return e+t.reputation},0),i=this.messageBus.getMessageHistory({since:Date.now()-3e5});return{averageWorkload:n/t.length,averageQuality:r/t.length,communicationScore:Math.min(100,2*i.length),teamMorale:this.calculateTeamMorale(t),productivityScore:this.calculateProductivityScore(t)}}},{key:"calculateTeamMorale",value:function(e){var t=e.map(function(e){return{energy:e.energy,workload:100-e.workload,reputation:e.reputation}}),n=t.reduce(function(e,t){return e+(.4*t.energy+.3*t.workload+.3*t.reputation)},0)/t.length;return Math.round(n)}},{key:"calculateProductivityScore",value:function(e){var t=this.messageBus.getMessageHistory({type:"task_completed",since:Date.now()-36e5}).length,n=e.filter(function(e){return"working"===e.state}).length/e.length;return Math.round(10*t+50*n)}},{key:"addressOverwork",value:function(e){this.sendMessage("team_announcement",{type:"workload_concern",message:"Team workload is high. Consider breaks and task redistribution.",managerNotes:"Monitoring team wellness",sender:this.id}),this.scheduleTeamMeeting("workload_management")}},{key:"improveQuality",value:function(e){this.sendMessage("quality_initiative",{currentQuality:e.averageQuality,targetQuality:70,initiatives:["Increase code review frequency","Add more testing phases","Implement quality gates","Provide skill development time"],manager:this.id})}},{key:"enhanceCommunication",value:function(){this.scheduleTeamMeeting("communication_improvement"),this.sendMessage("communication_guidelines",{guidelines:["Regular progress updates","Clear dependency communication","Proactive problem reporting","Knowledge sharing sessions"],manager:this.id})}},{key:"scheduleTeamMeeting",value:function(e){this.memory.set("team_meetings",this.memory.get("team_meetings")+1),this.messageBus.broadcastMessage({from:this.id,type:"team_meeting",payload:{meetingType:e,scheduler:this.id,scheduledFor:Date.now()+6e4,mandatory:"micromanager"===this.managementStyle}})}},{key:"makeStrategicDecisions",value:function(){if(this.tickCount%25==0){var e=this.evaluateStrategicOptions();e&&(this.implementDecision(e),this.memory.set("decisions_made",this.memory.get("decisions_made")+1))}}},{key:"evaluateStrategicOptions",value:function(){var e=this,t=[{type:"feature_prioritization",impact:"medium",urgency:"low"},{type:"resource_reallocation",impact:"high",urgency:"medium"},{type:"scope_adjustment",impact:"high",urgency:"high"},{type:"timeline_revision",impact:"medium",urgency:"medium"},{type:"quality_standards_update",impact:"medium",urgency:"low"}].filter(function(t){return e.assessDecisionViability(t)});return 0===t.length?null:t.reduce(function(t,n){return e.scoreDecisionOption(n)>e.scoreDecisionOption(t)?n:t})}},{key:"assessDecisionViability",value:function(e){return this.calculateDecisionRisk(e)<=this.riskTolerance}},{key:"calculateDecisionRisk",value:function(e){var t={low:20,medium:50,high:80};return((t[e.impact]||50)+(t[e.urgency]||50))/2}},{key:"scoreDecisionOption",value:function(e){return({low:25,medium:50,high:75}[e.impact]||50)+({low:25,medium:50,high:75}[e.urgency]||50)}},{key:"implementDecision",value:function(e){this.messageBus.broadcastMessage({from:this.id,type:"strategic_decision",payload:{decision:e,rationale:this.generateDecisionRationale(e),expectedOutcome:this.predictDecisionOutcome(e),manager:this.id}})}},{key:"generateDecisionRationale",value:function(e){return{feature_prioritization:"Focusing on high-impact features for better user experience",resource_reallocation:"Optimizing team efficiency and project outcomes",scope_adjustment:"Ensuring realistic deliverables within timeline",timeline_revision:"Accommodating unexpected challenges and quality requirements",quality_standards_update:"Maintaining competitive advantage and user satisfaction"}[e.type]||"Strategic optimization for project success"}},{key:"predictDecisionOutcome",value:function(e){return{expectedBenefit:Math.floor(30*Math.random())+50,timeToRealization:Math.floor(14*Math.random())+7,riskLevel:this.calculateDecisionRisk(e)}}},{key:"facilitateCommunication",value:function(){this.tickCount%20==0&&this.generateStatusReport()}},{key:"generateStatusReport",value:function(){var e=this.analyzeTeamPerformance(),t=this.getProjectStatuses();this.messageBus.broadcastMessage({from:this.id,type:"status_report",payload:{teamPerformance:e,projectStatuses:t,recommendations:this.generateManagerialRecommendations(e),timestamp:Date.now()}})}},{key:"getProjectStatuses",value:function(){return Array.from(this.currentProjects).map(function(e){return{id:e,status:"active",progress:Math.floor(100*Math.random()),onSchedule:Math.random()<.7}})}},{key:"generateManagerialRecommendations",value:function(e){var t=[];return e.averageWorkload>75&&t.push("Consider hiring additional team members"),e.communicationScore<60&&t.push("Implement regular standup meetings"),e.productivityScore<50&&t.push("Review and optimize development processes"),t}},{key:"planResourceAllocation",value:function(){if(this.tickCount%30==0){var e=this.optimizeResourceDistribution();this.sendMessage("resource_plan",{allocation:e,planner:this.id,effectiveness:this.skills.get("resource_allocation")})}}},{key:"optimizeResourceDistribution",value:function(){var e=this,t=this.messageBus.getAllAgents().filter(function(t){return t.id!==e.id});return{development:this.calculateOptimalAllocation(t,"developer"),design:this.calculateOptimalAllocation(t,"designer"),testing:this.calculateOptimalAllocation(t,"tester"),recommendations:this.generateAllocationRecommendations(t)}}},{key:"calculateOptimalAllocation",value:function(e,t){var n=e.filter(function(e){return e.type===t}),r=n.reduce(function(e,t){return e+(100-t.workload)},0);return{agentCount:n.length,totalCapacity:r,averageUtilization:n.length>0?n.reduce(function(e,t){return e+t.workload},0)/n.length:0,recommendation:r>200?"well_staffed":"need_more_agents"}}},{key:"generateAllocationRecommendations",value:function(e){var t=[],n=this.groupAgentsByType(e);return Object.entries(n).forEach(function(e){var n=J(e,2),r=n[0],i=n[1],a=i.reduce(function(e,t){return e+t.workload},0)/i.length;a>80?t.push("".concat(r," team is overloaded - consider additional resources")):a<30&&t.push("".concat(r," team has capacity for additional tasks"))}),t}},{key:"groupAgentsByType",value:function(e){return e.reduce(function(e,t){return e[t.type]||(e[t.type]=[]),e[t.type].push(t),e},{})}},{key:"getManagementMetrics",value:function(){return{decisionsMade:this.memory.get("decisions_made"),projectsManaged:this.memory.get("projects_managed"),teamMeetings:this.memory.get("team_meetings"),managementStyle:this.managementStyle,riskTolerance:this.riskTolerance,marketInsight:this.marketInsight,leadershipEffectiveness:this.skills.get("leadership")}}}],r&&Y(n.prototype,r),i&&Y(n,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r,i}(k);function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,ce(r.key),r)}}function ce(e){var t=function(e,t){if("object"!=se(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=se(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==se(t)?t:t+""}var ue=function(){return e=function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.swarmManager=new y,this.updateInterval=null,this.isRunning=!1,this.initializeUI(),this.initializeSwarm()},t=[{key:"initializeUI",value:function(){var e=this,t=document.getElementById("startBtn"),n=document.getElementById("stopBtn"),r=document.getElementById("createProjectBtn"),i=document.getElementById("projectModal"),a=document.getElementById("projectForm"),s=document.getElementById("cancelProjectBtn");t.addEventListener("click",function(){return e.startSwarm()}),n.addEventListener("click",function(){return e.stopSwarm()}),r.addEventListener("click",function(){return e.showProjectModal()}),s.addEventListener("click",function(){return e.hideProjectModal()}),a.addEventListener("submit",function(t){return e.createProject(t)}),i.addEventListener("click",function(t){t.target===i&&e.hideProjectModal()})}},{key:"initializeSwarm",value:function(){var e=this;[new P("dev_alice",this.swarmManager.messageBus,{programmingSkill:85,gameLogicSkill:78,specialty:"gamedev",codeQuality:80}),new P("dev_bob",this.swarmManager.messageBus,{programmingSkill:72,gameLogicSkill:65,specialty:"backend",codeQuality:75,bugIntroductionRate:.05}),new H("design_carol",this.swarmManager.messageBus,{creativitySkill:90,graphicsSkill:85,uiDesignSkill:80,designStyle:"modern",artisticVision:85}),new $("test_dave",this.swarmManager.messageBus,{testingSkill:88,gameBalanceSkill:75,bugDetectionSkill:92,testingApproach:"comprehensive",bugFindingRate:.8}),new ae("mgr_eve",this.swarmManager.messageBus,{leadershipSkill:85,projectManagementSkill:90,marketAnalysisSkill:75,managementStyle:"collaborative",riskTolerance:60})].forEach(function(t){e.swarmManager.addAgent(t)}),this.updateUI()}},{key:"startSwarm",value:function(){var e=this;this.isRunning||(this.swarmManager.start(),this.isRunning=!0,document.getElementById("startBtn").disabled=!0,document.getElementById("stopBtn").disabled=!1,this.updateInterval=setInterval(function(){return e.updateUI()},1e3),this.addActivityMessage("System","Swarm simulation started","info"))}},{key:"stopSwarm",value:function(){this.isRunning&&(this.swarmManager.stop(),this.isRunning=!1,document.getElementById("startBtn").disabled=!1,document.getElementById("stopBtn").disabled=!0,this.updateInterval&&(clearInterval(this.updateInterval),this.updateInterval=null),this.addActivityMessage("System","Swarm simulation stopped","info"))}},{key:"updateUI",value:function(){this.updateStats(),this.updateAgents(),this.updateProjects(),this.updateActivityFeed()}},{key:"updateStats",value:function(){var e=this.swarmManager.getStats();document.getElementById("activeAgents").textContent=e.activeAgents,document.getElementById("tasksCompleted").textContent=e.tasksCompleted,document.getElementById("networkHealth").textContent="".concat(e.networkHealth,"%"),document.getElementById("messagesPerHour").textContent=e.messagesLastHour}},{key:"updateAgents",value:function(){var e=this,t=document.getElementById("agentsContainer");t.innerHTML="",this.swarmManager.agents.forEach(function(n){var r=n.getStatus(),i=e.createAgentCard(r);t.appendChild(i)})}},{key:"createAgentCard",value:function(e){var t=document.createElement("div");t.className="bg-gray-700 rounded-lg p-4";var n=this.getStateColor(e.state),r=this.getAgentEmoji(e.type);return t.innerHTML='\n            <div class="flex items-center justify-between mb-3">\n                <div class="flex items-center space-x-2">\n                    <span class="text-lg">'.concat(r,'</span>\n                    <span class="font-medium text-white">').concat(e.id,'</span>\n                </div>\n                <span class="px-2 py-1 rounded text-xs font-medium ').concat(n,'">\n                    ').concat(e.state.toUpperCase(),'\n                </span>\n            </div>\n            <div class="space-y-2">\n                <div class="flex justify-between items-center">\n                    <span class="text-gray-400 text-sm">Energy</span>\n                    <span class="text-white text-sm">').concat(e.energy,'%</span>\n                </div>\n                <div class="w-full bg-gray-600 rounded-full h-2">\n                    <div class="bg-green-500 h-2 rounded-full" style="width: ').concat(e.energy,'%"></div>\n                </div>\n                \n                <div class="flex justify-between items-center">\n                    <span class="text-gray-400 text-sm">Workload</span>\n                    <span class="text-white text-sm">').concat(e.workload,'%</span>\n                </div>\n                <div class="w-full bg-gray-600 rounded-full h-2">\n                    <div class="bg-yellow-500 h-2 rounded-full" style="width: ').concat(e.workload,'%"></div>\n                </div>\n                \n                <div class="flex justify-between items-center mt-3">\n                    <span class="text-gray-400 text-sm">Reputation</span>\n                    <span class="text-white text-sm">').concat(Math.round(e.reputation),"</span>\n                </div>\n                \n                ").concat(e.currentTask?'\n                    <div class="mt-2 p-2 bg-gray-600 rounded text-xs">\n                        <span class="text-gray-300">Working on: </span>\n                        <span class="text-white">'.concat(e.currentTask,"</span>\n                    </div>\n                "):"","\n            </div>\n        "),t}},{key:"getStateColor",value:function(e){var t={idle:"bg-gray-600 text-gray-200",working:"bg-blue-600 text-white",resting:"bg-red-600 text-white"};return t[e]||t.idle}},{key:"getAgentEmoji",value:function(e){return{developer:"👨‍💻",designer:"🎨",tester:"🔍",manager:"👔"}[e]||"🤖"}},{key:"updateProjects",value:function(){var e=this,t=document.getElementById("projectsContainer");t.innerHTML="",0!==this.swarmManager.projects.size?this.swarmManager.projects.forEach(function(n){var r=e.createProjectCard(n);t.appendChild(r)}):t.innerHTML='\n                <div class="text-center text-gray-400 py-8">\n                    <svg class="w-12 h-12 mx-auto mb-4 opacity-50" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path>\n                    </svg>\n                    <p>No active projects</p>\n                    <p class="text-sm">Click "New Project" to get started</p>\n                </div>\n            '}},{key:"createProjectCard",value:function(e){var t=document.createElement("div");t.className="bg-gray-700 rounded-lg p-4";var n="completed"===e.status?"text-green-400":"text-blue-400";return t.innerHTML='\n            <div class="flex items-center justify-between mb-3">\n                <h3 class="font-medium text-white">'.concat(e.name,'</h3>\n                <span class="px-2 py-1 rounded text-xs font-medium bg-gray-600 ').concat(n,'">\n                    ').concat(e.status.toUpperCase(),'\n                </span>\n            </div>\n            <div class="text-sm text-gray-400 mb-3">\n                <span>').concat(e.genre,"</span>\n                ").concat(e.subGenre?" • ".concat(e.subGenre):"","\n                ").concat(e.theme?" • ".concat(e.theme):"",'\n            </div>\n            <div class="mb-3">\n                <div class="flex justify-between items-center mb-1">\n                    <span class="text-gray-400 text-sm">Progress</span>\n                    <span class="text-white text-sm">').concat(Math.round(e.progress),'%</span>\n                </div>\n                <div class="w-full bg-gray-600 rounded-full h-2">\n                    <div class="bg-blue-500 h-2 rounded-full" style="width: ').concat(e.progress,'%"></div>\n                </div>\n            </div>\n            <div class="text-xs text-gray-500">\n                Tasks: ').concat(e.tasks.length," • Created: ").concat(new Date(e.createdAt).toLocaleDateString(),"\n            </div>\n        "),t}},{key:"updateActivityFeed",value:function(){var e=this,t=document.getElementById("activityFeed");for(this.swarmManager.messageBus.getMessageHistory({since:Date.now()-3e4}).slice(0,10).filter(function(e){return!document.querySelector('[data-msg-id="'.concat(e.id,'"]'))}).forEach(function(n){var r=e.createActivityMessage(n);t.insertBefore(r,t.firstChild)});t.children.length>20;)t.removeChild(t.lastChild)}},{key:"createActivityMessage",value:function(e){var t=document.createElement("div");t.className="bg-gray-700 rounded p-3 text-sm",t.setAttribute("data-msg-id",e.id);var n=Math.floor((Date.now()-e.timestamp)/1e3),r=this.getMessageEmoji(e.type);return t.innerHTML='\n            <div class="flex items-center space-x-2 mb-1">\n                <span>'.concat(r,'</span>\n                <span class="font-medium text-white">').concat(this.formatMessageType(e.type),'</span>\n                <span class="text-gray-400 text-xs">').concat(n,'s ago</span>\n            </div>\n            <div class="text-gray-300 text-xs">\n                From: ').concat(e.from," ").concat(e.to?"→ ".concat(e.to):"→ All","\n            </div>\n        "),t}},{key:"getMessageEmoji",value:function(e){return{task_assignment:"📋",task_completed:"✅",bug_report:"🐛",collaboration_request:"🤝",design_feedback:"💭",quality_report:"📊",team_meeting:"👥",project_completed:"🎉"}[e]||"📨"}},{key:"formatMessageType",value:function(e){return e.split("_").map(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}).join(" ")}},{key:"addActivityMessage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"info",r=document.getElementById("activityFeed"),i=document.createElement("div");i.className="bg-gray-700 rounded p-3 text-sm";var a="error"===n?"❌":"success"===n?"✅":"ℹ️";for(i.innerHTML='\n            <div class="flex items-center space-x-2 mb-1">\n                <span>'.concat(a,'</span>\n                <span class="font-medium text-white">').concat(e,'</span>\n                <span class="text-gray-400 text-xs">now</span>\n            </div>\n            <div class="text-gray-300 text-xs">').concat(t,"</div>\n        "),r.insertBefore(i,r.firstChild);r.children.length>20;)r.removeChild(r.lastChild)}},{key:"showProjectModal",value:function(){document.getElementById("projectModal").classList.remove("hidden"),document.getElementById("projectModal").classList.add("flex")}},{key:"hideProjectModal",value:function(){document.getElementById("projectModal").classList.add("hidden"),document.getElementById("projectModal").classList.remove("flex"),document.getElementById("projectForm").reset()}},{key:"createProject",value:function(e){e.preventDefault();var t=document.getElementById("projectName").value,n=document.getElementById("projectGenre").value,r=document.getElementById("projectTheme").value;if(t.trim()){var i=this.swarmManager.createProject({name:t.trim(),genre:n,theme:r,targetAudience:["gamers"]});this.addActivityMessage("System","Created project: ".concat(i.name),"success"),this.hideProjectModal(),this.updateUI()}else this.addActivityMessage("System","Project name is required","error")}}],t&&oe(e.prototype,t),n&&oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t,n}();document.addEventListener("DOMContentLoaded",function(){window.swarmUI=new ue})})();